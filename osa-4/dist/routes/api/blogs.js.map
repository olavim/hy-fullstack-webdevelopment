{"version":3,"sources":["../../../src/routes/api/blogs.js"],"names":["router","Router","get","request","response","blogs","find","json","post","blog","body","validate","err","status","message","savedBlog","save"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;kBAEe,MAAM;AACpB,OAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,QAAOE,GAAP,CAAW,GAAX,EAAgB;AAAA,+BAAa,WAAMC,OAAN,EAAeC,QAAf,EAA4B;AACxD,SAAMC,QAAQ,MAAM,eAAKC,IAAL,CAAU,EAAV,CAApB;AACAF,YAASG,IAAT,CAAcF,KAAd;AACA,GAHe;;AAAA;AAAA;AAAA;AAAA,MAAhB;;AAKAL,QAAOQ,IAAP,CAAY,GAAZ,EAAiB;AAAA,gCAAa,WAAML,OAAN,EAAeC,QAAf,EAA4B;AACzD,SAAMK,OAAO,mBAASN,QAAQO,IAAjB,CAAb;;AAEA,OAAI;AACH,UAAMD,KAAKE,QAAL,EAAN;AACA,IAFD,CAEE,OAAOC,GAAP,EAAY;AACb,UAAM,EAACC,QAAQ,GAAT,EAAcC,SAAS,aAAvB,EAAN;AACA;;AAED,SAAMC,YAAY,MAAMN,KAAKO,IAAL,EAAxB;AACAZ,YAASS,MAAT,CAAgB,GAAhB,EAAqBN,IAArB,CAA0BQ,SAA1B;AACA,GAXgB;;AAAA;AAAA;AAAA;AAAA,MAAjB;;AAaA,QAAOf,MAAP;AACA,C","file":"blogs.js","sourcesContent":["import express from 'express';\nimport asyncHandler from 'express-async-handler';\nimport Blog from '../../models/blog';\n\nexport default () => {\n\tconst router = express.Router();\n\n\trouter.get('/', asyncHandler(async(request, response) => {\n\t\tconst blogs = await Blog.find({});\n\t\tresponse.json(blogs);\n\t}));\n\n\trouter.post('/', asyncHandler(async(request, response) => {\n\t\tconst blog = new Blog(request.body);\n\n\t\ttry {\n\t\t\tawait blog.validate();\n\t\t} catch (err) {\n\t\t\tthrow {status: 400, message: 'Bad Request'};\n\t\t}\n\n\t\tconst savedBlog = await blog.save();\n\t\tresponse.status(201).json(savedBlog);\n\t}));\n\n\treturn router;\n};\n"]}