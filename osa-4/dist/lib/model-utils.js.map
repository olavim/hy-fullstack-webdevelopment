{"version":3,"sources":["../../src/lib/model-utils.js"],"names":["getModel","modelName","schemaObj","schema","Schema","set","virtuals","versionKey","transform","doc","ret","_id","model"],"mappings":";;;;;;;AAAA;;;;;;AAEO,MAAMA,8BAAW,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACjD,OAAMC,SAAS,IAAI,mBAASC,MAAb,CAAoBF,SAApB,CAAf;;AAEA;AACAC,QAAOE,GAAP,CAAW,QAAX,EAAqB;AACpBC,YAAU,IADU;AAEpBC,cAAY,KAFQ;AAGpBC,aAAW,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC9B,UAAOA,IAAIC,GAAX;AACA;AALmB,EAArB;;AAQA,QAAO,mBAASC,KAAT,CAAeX,SAAf,EAA0BE,MAA1B,CAAP;AACA,CAbM","file":"model-utils.js","sourcesContent":["import mongoose from 'mongoose';\n\nexport const getModel = (modelName, schemaObj) => {\n\tconst schema = new mongoose.Schema(schemaObj);\n\n\t// Rename `_id` to `id` and remove `__v`\n\tschema.set('toJSON', {\n\t\tvirtuals: true,\n\t\tversionKey: false,\n\t\ttransform: function (doc, ret) {\n\t\t\tdelete ret._id;\n\t\t}\n\t});\n\n\treturn mongoose.model(modelName, schema);\n};\n"]}